<!DOCTYPE html>
<html lang="bn">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      বাংলাদেশ জমির একক রূপান্তর ও ওয়ারিশ হিসাব | Bangladesh Land Area Unit
      Converter & Islamic Inheritance Calculator
    </title>

    <meta
      name="description"
      content="বাংলাদেশের জমির একক রূপান্তর করুন – কাঠা, শতক, বিঘা, কানি, একর, ডেসিমেল, গণ্ডা, করা, প্রভৃতি জমির একক রূপান্তর। ইসলামী শরিয়াহ ও ফরায়েজ আইন অনুযায়ী ওয়ারিশ হিসাব করুন।"
    />
    <meta
      name="keywords"
      content="জমির একক রূপান্তর, জমির হিসাব, জমি কনভার্টার, ওয়ারিশ হিসাব, ফরায়েজ আইন, Faraid, Faraeji Law, ইসলামিক উত্তরাধিকার, ইসলামী শরিয়াহ, Hanafi inheritance law, Islamic Inheritance Bangladesh, Land Converter Bangladesh, Bangladesh Land Unit, Katha to Decimal, Decimal to Bigha, Acre to Kani"
    />
    <meta
      name="subject"
      content="Land area conversion and Islamic inheritance calculation (Faraid) in Bangladesh"
    />
    <meta name="author" content="SM Riad" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://smriad.github.io/bdland/" />
    <meta name="theme-color" content="#0d6efd" />

    <meta
      property="og:title"
      content="বাংলাদেশ জমির একক রূপান্তর ও ফরায়েজ ভিত্তিক ওয়ারিশ হিসাব"
    />
    <meta
      property="og:description"
      content="বাংলাদেশে ব্যবহৃত জমির একক সহজে রূপান্তর করুন এবং ফরায়েজ আইন অনুযায়ী ইসলামী শরিয়াহ ভিত্তিক ওয়ারিশ হিসাব করুন।"
    />

    <meta property="og:url" content="https://smriad.github.io/bdland/" />
    <meta property="og:type" content="website" />
    <meta
      property="og:image"
      content="https://smriad.github.io/bdland/og-image.png"
    />

    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="icon" sizes="32x32" href="favicon-32x32.png" />
    <link rel="icon" sizes="16x16" href="favicon-16x16.png" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
    <link rel="manifest" href="site.webmanifest" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        background-color: #f8f9fa;
        font-family: "Noto Sans Bengali", sans-serif;
      }
      .container {
        max-width: 800px;
        margin-top: 30px;
      }
      .form-label {
        font-weight: 600;
        margin-bottom: 0.25rem; /* less space below label */
      }
      #result {
        margin-top: 1rem; /* less margin */
        background: #fff;
        border: 1px solid #0d6efd;
        border-radius: 0.5rem;
        padding: 0.75rem 1rem;
        color: #0d6efd;
        font-weight: 600;
        box-shadow: 0 0 6px rgba(13, 110, 253, 0.15);
        font-size: 0.8rem;
      }

      h1 {
        font-size: 0.8rem;
      }

      #apk-download {
        display: inline-block;
      }
      body.standalone #apk-download {
        display: none;
      }
      /* Inheritance Section Styling */
      .inheritance-section {
        margin-top: 1rem; /* reduced from 2rem */
        padding: 1rem 1.5rem; /* less padding */
        border: 1px solid #0d6efd;
        background-color: #e7f1ff;
        border-radius: 0.5rem;
        font-size: 0.8rem; /* slightly smaller font */
      }

      .inheritance-section h2 {
        color: #0d6efd;
        font-weight: 700;
        margin-bottom: 1rem; /* reduced */
        border-bottom: 2px solid #0d6efd;
        padding-bottom: 0.2rem;
        font-size: 0.8rem;
      }

      .inheritance-section label {
        font-weight: 600;
        margin-top: 0.5rem; /* less top margin */
        color: #212529;
        display: block;
      }

      .inheritance-section select,
      .inheritance-section input {
        margin-top: 0.15rem; /* less vertical spacing */
        margin-bottom: 0.6rem; /* less vertical spacing */
        max-width: 140px; /* slightly narrower */
        padding: 0.25rem 0.4rem; /* smaller input height */
        font-size: 0.8rem;
      }

      .inheritance-section button {
        margin-top: 0.75rem; /* less top margin */
        width: 100%;
        padding: 0.4rem 0; /* smaller button height */
        font-size: 1rem;
      }

      #inheritance-result {
        margin-top: 1rem; /* less margin */
        background: #fff;
        border: 1px solid #0d6efd;
        border-radius: 0.5rem;
        padding: 0.75rem 1rem;
        color: #0d6efd;
        font-weight: 600;
        box-shadow: 0 0 6px rgba(13, 110, 253, 0.15);
        font-size: 0.8rem;
      }

      #inheritance-result ul {
        list-style: none;
        padding-left: 0;
        margin-bottom: 0;
      }

      #inheritance-result li {
        padding: 0.3rem 0;
        border-bottom: 1px solid #cfe2ff;
        font-size: 0.8rem;
        text-align: right;
        max-width: 300px;
      }

      #inheritance-result li:last-child {
        border-bottom: none;
      }
      /* Side-by-side container */
      @media (min-width: 768px) {
        .container {
          max-width: 960px;
        }
      }

      .row > * {
        margin-top: 0px;
        margin-bottom: 0px;
      }
    </style>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-CRRLR1C8ME"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-CRRLR1C8ME");
    </script>
  </head>
  <!-- SweetAlert2 CDN -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <body>
    <div class="container bg-white p-4 shadow-sm rounded">
      <div class="row">
        <!-- Converter column -->
        <div class="col-md-5 mb-4">
          <div class="inheritance-section">
            <h2>
              বাংলাদেশ জমির একক রূপান্তর<br />
              <small class="text-muted"></small>
            </h2>

            <div class="mb-3">
              <label for="inputValue" class="form-label"
                >পরিমাণ দিন (Enter Value)</label
              >
              <input
                type="number"
                id="inputValue"
                class="form-control"
                placeholder="Numeric value"
                style="max-width: 320px"
              />
            </div>

            <div class="mb-3">
              <label for="fromUnit" class="form-label">From</label>
              <select
                id="fromUnit"
                class="form-select"
                style="max-width: 320px"
              ></select>
            </div>
            <div class="mb-3">
              <label for="toUnit" class="form-label">To</label>
              <select
                id="toUnit"
                class="form-select"
                style="max-width: 320px"
              ></select>
            </div>

            <button class="btn btn-primary w-100" onclick="convert()">
              রূপান্তর করুন (Convert)
            </button>

            <div id="result" class="mt-4 text-center"></div>

            <button
              id="populateWealth"
              class="btn btn-outline-success auto-populate-btn w-100"
              style="display: none"
            >
              এই মানটি ওয়ারিশ হিসাবের সম্পদে বসান
            </button>
          </div>
        </div>

        <!-- Inheritance column -->
        <div class="col-md-7">
          <div
            class="inheritance-section"
            id="inheritance-section"
            style="display: block"
          >
            <h2>ওয়ারিশ হিসাব (ইসলামি উত্তরাধিকার)</h2>

            <div class="row g-3">
              <div class="col-6">
                <label for="estateValue" class="form-label"
                  >মোট সম্পদ(Wealth)</label
                >
                <input
                  type="number"
                  id="estateValue"
                  class="form-control"
                  placeholder="পরিমাণ দিন"
                  style="max-width: 320px"
                />
              </div>
              <div class="col-6">
                <label for="estateUnit" class="form-label">একক (Unit)</label>
                <select
                  id="estateUnit"
                  class="form-select"
                  style="max-width: 320px"
                ></select>
              </div>
              <div class="col-4">
                <label for="husbandCount" class="form-label"
                  >জীবিত স্বামীর সংখ্যা:</label
                >
                <input
                  type="number"
                  id="husbandCount"
                  min="0"
                  max="1"
                  value="0"
                  class="form-control"
                />
              </div>

              <div class="col-4">
                <label for="wifeCount" class="form-label"
                  >জীবিত স্ত্রীর সংখ্যা:</label
                >
                <input
                  type="number"
                  id="wifeCount"
                  min="0"
                  max="4"
                  value="0"
                  class="form-control"
                />
              </div>

              <div class="col-4">
                <label for="sons" class="form-label">ছেলের সংখ্যা:</label>
                <input type="number" id="sons" value="0" class="form-control" />
              </div>
              <div class="col-4">
                <label for="daughters" class="form-label">মেয়ের সংখ্যা:</label>
                <input
                  type="number"
                  id="daughters"
                  value="0"
                  class="form-control"
                />
              </div>

              <div class="col-4">
                <label for="mother" class="form-label">মা বেঁচে আছেন?</label>
                <select id="mother" class="form-select">
                  <option value="no">না</option>
                  <option value="yes">হ্যাঁ</option>
                </select>
              </div>
              <div class="col-4">
                <label for="father" class="form-label">বাবা বেঁচে আছেন?</label>
                <select id="father" class="form-select">
                  <option value="no">না</option>
                  <option value="yes">হ্যাঁ</option>
                </select>
              </div>
            </div>

            <button
              class="btn btn-primary w-100 mt-4"
              onclick="calculateInheritance()"
            >
              ওয়ারিশ হিসাব করুন
            </button>

            <div
              class="result"
              id="inheritance-result"
              style="margin-top: 1.5rem"
            ></div>
          </div>
        </div>
      </div>

      <div class="d-flex justify-content-center my-4">
        <a
          id="apk-download"
          href="Land_Inheritance_Calculator.apk"
          download
          class="btn btn-danger btn-lg d-inline-flex align-items-center px-4 py-2"
        >
          Download for Android
        </a>
      </div>

      <div id="disqus_thread" class="mt-5"></div>
      <script>
        var disqus_config = function () {
          this.page.url = window.location.href;
          this.page.identifier = window.location.pathname;
        };
        (function () {
          var d = document,
            s = d.createElement("script");
          s.src = "https://bdland.disqus.com/embed.js";
          s.setAttribute("data-timestamp", +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
      <noscript
        >অনুগ্রহ করে Disqus মন্তব্য দেখতে জাভাস্ক্রিপ্ট চালু করুন।</noscript
      >
    </div>

    <script>
      const units = {
        bigha: 14400,
        decimal: 435.6,
        shotangsho: 435.6,
        katha: 720,
        ojutangsho: 4.356,
        kani: 17280,
        gonda: 864,
        kora: 216,
        acre: 43560,
        square_meter: 10.7639,
      };

      const unitNames = {
        bigha: "Bigha (বিঘা)",
        decimal: "Decimal (ডেসিমেল)",
        shotangsho: "Shotangsho (শতাংশ)",
        katha: "Katha (কাঠা)",
        ojutangsho: "Ojutangsho (অযুতাংশ)",
        kani: "Kani (কানি)",
        gonda: "Gonda (গণ্ডা)",
        kora: "Kora (করা)",
        til: "Til (তিল)",
        acre: "Acre (একর)",
        square_meter: "Square Meter (বর্গ মিটার)",
      };

      window.onload = () => {
        const from = document.getElementById("fromUnit");
        const to = document.getElementById("toUnit");
        for (const key in units) {
          from.appendChild(new Option(unitNames[key], key));
          to.appendChild(new Option(unitNames[key], key));
        }
        from.value = "shotangsho";
        to.value = "katha";

        // Populate estateUnit select for inheritance calculator
        const estateUnit = document.getElementById("estateUnit");
        for (const key in units) {
          estateUnit.appendChild(new Option(unitNames[key], key));
        }
        estateUnit.appendChild(new Option("Taka (টাকা)", "taka"));
        estateUnit.value = "shotangsho"; // default value
      };

      // Populate inheritance wealth field
      document
        .getElementById("populateWealth")
        .addEventListener("click", function () {
          const value = this.getAttribute("data-value");
          document.getElementById("wealth").value = value;
          this.textContent = "সম্পদ সেট করা হয়েছে ✅";
        });

      let lastValue = 0;
      let lastUnit = null;

      function convert() {
        const val = parseFloat(document.getElementById("inputValue").value);
        const from = document.getElementById("fromUnit").value;
        const to = document.getElementById("toUnit").value;
        const result = document.getElementById("result");

        if (isNaN(val) || val <= 0) {
          result.innerHTML = "একটি বৈধ ধনাত্মক সংখ্যা লিখুন।";
          return;
        }

        const valueInSqFt = val * units[from];
        const converted = valueInSqFt / units[to];

        result.innerHTML = `${val} ${
          unitNames[from]
        } = <span class="text-primary">${converted.toFixed(4)}</span> ${
          unitNames[to]
        }`;

        document.getElementById("populateWealth").style.display = "block";

        lastValue = converted;
        lastUnit = to;
      }

      document.addEventListener("DOMContentLoaded", () => {
        const populateBtn = document.getElementById("populateWealth");
        if (populateBtn) {
          populateBtn.addEventListener("click", function () {
            const valueInput = lastValue;
            const unitInput = lastUnit;
            const estateInput = document.getElementById("estateValue");
            const estateUnit = document.getElementById("estateUnit");

            if (valueInput && estateInput && unitInput && estateUnit) {
              estateInput.value = valueInput;
              estateUnit.value = unitInput;
              this.textContent = "সম্পদ বসানো হয়েছে ✅";
            } else {
              alert("Required input fields not found!");
            }
          });
        }
      });

      function calculateInheritance() {
        const aliveHusbands = Math.min(
          parseInt(document.getElementById("husbandCount").value) || 0,
          1
        );
        const aliveWives = Math.min(
          parseInt(document.getElementById("wifeCount").value) || 0,
          4
        );

        if (
          (parseInt(document.getElementById("husbandCount").value) || 0) > 1
        ) {
          alert("একজনের একাধিক স্বামী থাকতে পারে না।");
          return;
        }

        const sons = parseInt(document.getElementById("sons").value) || 0;
        const daughters =
          parseInt(document.getElementById("daughters").value) || 0;
        const motherAlive = document.getElementById("mother").value === "yes";
        const fatherAlive = document.getElementById("father").value === "yes";

        const estateRaw = parseFloat(
          document.getElementById("estateValue").value
        );
        const estateUnitValue = document.getElementById("estateUnit").value;

        if (isNaN(estateRaw) || estateRaw <= 0) {
          alert("একটি বৈধ সম্পদের পরিমাণ লিখুন।");
          return;
        }

        // Convert estate to base unit (e.g., sqft equivalent)
        let estate =
          estateUnitValue === "taka"
            ? estateRaw
            : estateRaw * units[estateUnitValue];

        const shares = {};
        let fixedShares = 0;
        const hasChildren = sons + daughters > 0;

        // *** Special Rule: If no children, wives alive, mother alive, father alive ***
        if (!hasChildren && aliveWives > 0 && motherAlive && fatherAlive) {
          // Wife total share = 1/4 divided equally
          const wifeTotalShare = estate * 0.25;
          const perWifeShare = wifeTotalShare / aliveWives;
          for (let i = 1; i <= aliveWives; i++) {
            shares[`স্ত্রী ${i}`] = perWifeShare;
          }
          fixedShares += wifeTotalShare;

          // Mother share = 1/4
          const motherShare = estate * 0.25;
          shares["মা"] = motherShare;
          fixedShares += motherShare;

          // Father share = 1/2
          const fatherShare = estate * 0.5;
          shares["বাবা"] = fatherShare;
          fixedShares += fatherShare;

          // No further shares to calculate, skip the rest
        } else {
          // Your existing logic for husband, wives, mother, father shares, children distribution etc.

          // Husband share
          if (aliveHusbands === 1) {
            const husbandShare = hasChildren ? estate * 0.25 : estate * 0.5;
            shares["স্বামী"] = husbandShare;
            fixedShares += husbandShare;
          }

          // Wife shares (total share divided equally)
          if (aliveWives > 0) {
            const totalWifeShare = hasChildren ? estate * 0.125 : estate * 0.25;
            const perWifeShare = totalWifeShare / aliveWives;
            fixedShares += totalWifeShare;
            for (let i = 1; i <= aliveWives; i++) {
              shares[`স্ত্রী ${i}`] = perWifeShare;
            }
          }

          // Mother share (1/6 if children else 1/3)
          if (motherAlive) {
            const motherShare = hasChildren
              ? estate * (1 / 6)
              : estate * (1 / 3);
            shares["মা"] = motherShare;
            fixedShares += motherShare;
          }

          // Father share (simplified 1/6)
          if (fatherAlive) {
            const fatherShare = estate * (1 / 6);
            shares["বাবা"] = fatherShare;
            fixedShares += fatherShare;
          }

          // Calculate remaining estate for children (2:1 ratio sons:daughters)
          let remaining = estate - fixedShares;
          if (remaining < 0) {
            alert("ওয়ারিশ বণ্টন অসঙ্গতিপূর্ণ। দয়া করে তথ্য পরীক্ষা করুন।");
            return;
          }

          const totalUnits = sons * 2 + daughters;
          if (totalUnits > 0 && remaining > 0) {
            const unitValue = remaining / totalUnits;
            if (sons > 0) shares["ছেলে"] = unitValue * sons * 2;
            if (daughters > 0) shares["মেয়ে"] = unitValue * daughters;
          } else if (totalUnits === 0 && remaining > 0 && fatherAlive) {
            // If no children, father gets residual
            shares["বাবা"] = (shares["বাবা"] || 0) + remaining;
            remaining = 0;
          }
        }

        // Now, apply Rule 19: If total distributed shares < estate,
        // increase non-spouse shares proportionally to fill estate exactly,
        // keeping spouse shares fixed

        let totalDistributed = Object.values(shares).reduce((a, b) => a + b, 0);
        if (totalDistributed < estate) {
          const leftover = estate - totalDistributed;

          // Calculate sum of non-spouse shares
          const nonSpouseKeys = Object.keys(shares).filter(
            (key) => !key.startsWith("স্বামী") && !key.startsWith("স্ত্রী")
          );

          let nonSpouseTotal = nonSpouseKeys.reduce(
            (sum, key) => sum + shares[key],
            0
          );

          if (nonSpouseTotal > 0) {
            // Increase each non-spouse share proportionally
            const scaleFactor = (nonSpouseTotal + leftover) / nonSpouseTotal;
            nonSpouseKeys.forEach((key) => {
              shares[key] = shares[key] * scaleFactor;
            });
            totalDistributed = Object.values(shares).reduce((a, b) => a + b, 0);
          } else {
            // No non-spouse heirs to allocate leftover
            // Optionally assign leftover to spouse or alert
            // Here assign to husband if present, else wives, else alert

            if (aliveHusbands === 1) {
              shares["স্বামী"] = (shares["স্বামী"] || 0) + leftover;
              totalDistributed += leftover;
            } else if (aliveWives > 0) {
              const perWifeLeftover = leftover / aliveWives;
              for (let i = 1; i <= aliveWives; i++) {
                shares[`স্ত্রী ${i}`] =
                  (shares[`স্ত্রী ${i}`] || 0) + perWifeLeftover;
              }
              totalDistributed += leftover;
            } else {
              alert(
                "বন্টন শেষে কিছু অংশ বাকি রয়েছে, তবে বণ্টনের জন্য ওয়ারিশ নেই।"
              );
            }
          }
        }

        // Format shares to selected unit
        const selectedUnit = estateUnitValue;
        function formatShare(val) {
          if (selectedUnit === "taka") {
            return val.toFixed(2);
          } else {
            return (val / units[selectedUnit]).toFixed(4);
          }
        }
        const unitLabel =
          selectedUnit === "taka" ? "টাকা" : unitNames[selectedUnit];

        // Build output
        let output = `<h3 style="text-align:center;">ওয়ারিশ বণ্টন:</h3><ul>`;
        for (const heir in shares) {
          if (heir === "ছেলে" && sons > 1) {
            const perSon = shares[heir] / sons;
            for (let i = 1; i <= sons; i++) {
              output += `<li>ছেলে ${i}: ${formatShare(
                perSon
              )} ${unitLabel}</li>`;
            }
          } else if (heir === "মেয়ে" && daughters > 1) {
            const perDaughter = shares[heir] / daughters;
            for (let i = 1; i <= daughters; i++) {
              output += `<li>মেয়ে ${i}: ${formatShare(
                perDaughter
              )} ${unitLabel}</li>`;
            }
          } else {
            output += `<li>${heir}: ${formatShare(
              shares[heir]
            )} ${unitLabel}</li>`;
          }
        }
        output += "</ul>";

        document.getElementById("inheritance-result").innerHTML = output;
      }

      function isInStandaloneMode() {
        return (
          window.matchMedia("(display-mode: standalone)").matches ||
          window.navigator.standalone === true ||
          window.matchMedia("(display-mode: fullscreen)").matches ||
          document.referrer.startsWith("android-app://") ||
          /twa|wv/.test(navigator.userAgent.toLowerCase())
        );
      }

      function isTWA() {
        return document.referrer?.startsWith("android-app://");
      }

      window.addEventListener("DOMContentLoaded", () => {
        if (isInStandaloneMode()) {
          document.body.classList.add("standalone");
          document.getElementById("apk-download")?.classList.add("d-none");
        }
      });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("pwabuilder-sw.js")
            .then((registration) => {
              console.log("Service Worker registered:", registration.scope);
            })
            .catch((err) => {
              console.error("Service Worker registration failed:", err);
            });
        });
      }
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const husbandInput = document.getElementById("husbandCount");
        if (husbandInput) {
          husbandInput.addEventListener("input", function () {
            const val = parseInt(this.value || "0");
            if (val > 1) {
              this.value = 1;
              Swal.fire({
                icon: "error",
                title: "ভুল ইনপুট!",
                text: "জীবিত স্বামীর সংখ্যা ১ এর বেশি হতে পারে না।",
                confirmButtonText: "ঠিক আছে",
              });
            }
          });
        }

        const wifeInput = document.getElementById("wifeCount");

        function validateSpouse() {
          const husbandVal = parseInt(husbandInput.value || 0);
          const wifeVal = parseInt(wifeInput.value || 0);

          if (husbandVal > 0 && wifeVal > 0) {
            Swal.fire({
              icon: "error",
              title: "ভুল ইনপুট",
              text: "স্বামী এবং স্ত্রী একসাথে হতে পারে না।",
              confirmButtonText: "ঠিক আছে",
            });

            // Reset both fields to zero to force user to choose correctly
            husbandInput.value = 0;
            wifeInput.value = 0;
          }
        }

        husbandInput.addEventListener("input", validateSpouse);
        wifeInput.addEventListener("input", validateSpouse);
      });
    </script>
  </body>
</html>
